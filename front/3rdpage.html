<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employment Information</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

h1, h2 {
    text-align: center;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}

th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

.form{
    max-width: 1000px;
    margin: 20px auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

input[type="text"], input[type="date"] {
    width: 100%;
    padding: 8px;
    box-sizing: border-box;
}

input[type="submit"],
button {
    display: block;
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 5px;
    background-color: #007bff;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
}

input[type="submit"]:hover,
button:hover {
    background-color: #0056b3;
}

#logoutButton {
    margin-top: 10px;
    background-color: #dc3545;
}

#logoutButton:hover {
    background-color: #c82333;
}

input[type="submit"]:hover {
    background-color: #45a049;
}
    </style>
</head>
<body>
    <h1>Employment Information</h1>
    <form action="http://127.0.0.1:8000/3rdpage" method="post">
    <h2>Present Employment</h2>
    <div class="form">
    <table >
        <tr>
            <th>Position</th>
            <th>Organization/Institution</th>
            <th>Status</th>
            <th>Date of Joining</th>
            <th>Date of Leaving</th>
            <th>Duration</th>
        </tr>
        <tr>
            <td><input type="text" id="position_present_1" name="position_present_1"></td>
            <td><input type="text" id="organization_present_1" name="organization_present_1"></td>
            <td><input type="text" id="status_present_1" name="status_present_1"></td>
            <td><input type="text" id="joining_date_present_1" name="joining_date_present_1"></td>
            <td><input type="text" id="leaving_date_present_1" name="leaving_date_present_1"></td>
            <td><input type="text" id="duration_present_1" name="duration_present_1"></td>
        </tr>
    </table>
    
    <h2>Employment and Teaching Experience</h2>
    <table >
        <tr>
            <th>Position</th>
            <th>Organization/Institution</th>
            <th>Status</th>
            <th>Date of Joining</th>
            <th>Date of Leaving</th>
            <th>Duration</th>
        </tr>
        <tr>
            <td><input type="text" id="position_exp_1" name="position_exp_1"></td>
            <td><input type="text" id="organization_exp_1" name="organization_exp_1"></td>
            <td><input type="text" id="status_exp_1" name="status_exp_1"></td>
            <td><input type="text" id="joining_date_exp_1" name="joining_date_exp_1"></td>
            <td><input type="text" id="leaving_date_exp_1" name="leaving_date_exp_1"></td>
            <td><input type="text" id="duration_exp_1" name="duration_exp_1"></td>
        </tr>
        <tr>
            <td><input type="text" id="position_exp_2" name="position_exp_2"></td>
            <td><input type="text" id="organization_exp_2" name="organization_exp_2"></td>
            <td><input type="text" id="status_exp_2" name="status_exp_2"></td>
            <td><input type="text" id="joining_date_exp_2" name="joining_date_exp_2"></td>
            <td><input type="text" id="leaving_date_exp_2" name="leaving_date_exp_2"></td>
            <td><input type="text" id="duration_exp_2" name="duration_exp_2"></td>
        </tr>
        <tr>
            <td><input type="text" id="position_exp_3" name="position_exp_3"></td>
            <td><input type="text" id="organization_exp_3" name="organization_exp_3"></td>
            <td><input type="text" id="status_exp_3" name="status_exp_3"></td>
            <td><input type="text" id="joining_date_exp_3" name="joining_date_exp_3"></td>
            <td><input type="text" id="leaving_date_exp_3" name="leaving_date_exp_3"></td>
            <td><input type="text" id="duration_exp_3" name="duration_exp_3"></td>
        </tr>
    </table>
    
    <h2>Research Experience</h2>
    <table >
        <tr>
            <th>Position</th>
            <th>Organization/Institution</th>
            <th>Status</th>
            <th>Date of Joining</th>
            <th>Date of Leaving</th>
            <th>Duration</th>
        </tr>
        <tr>
            <td><input type="text" id="position_research_1" name="position_research_1"></td>
            <td><input type="text" id="organization_research_1" name="organization_research_1"></td>
            <td><input type="text" id="status_research_1" name="status_research_1"></td>
            <td><input type="text" id="joining_date_research_1" name="joining_date_research_1"></td>
            <td><input type="text" id="leaving_date_research_1" name="leaving_date_research_1"></td>
            <td><input type="text" id="duration_research_1" name="duration_research_1"></td>
        </tr>
        <tr>
            <td><input type="text" id="position_research_2" name="position_research_2"></td>
            <td><input type="text" id="organization_research_2" name="organization_research_2"></td>
            <td><input type="text" id="status_research_2" name="status_research_2"></td>
            <td><input type="text" id="joining_date_research_2" name="joining_date_research_2"></td>
            <td><input type="text" id="leaving_date_research_2" name="leaving_date_research_2"></td>
            <td><input type="text" id="duration_research_2" name="duration_research_2"></td>
        </tr>
        <tr>
            <td><input type="text" id="position_research_3" name="position_research_3"></td>
            <td><input type="text" id="organization_research_3" name="organization_research_3"></td>
            <td><input type="text" id="status_research_3" name="status_research_3"></td>
            <td><input type="text" id="joining_date_research_3" name="joining_date_research_3"></td>
            <td><input type="text" id="leaving_date_research_3" name="leaving_date_research_3"></td>
            <td><input type="text" id="duration_research_3" name="duration_research_3"></td>
        </tr>
    </table>
    <input type="submit" value="Submit">
    <button type="button" id="logoutButton">Logout</button>
</div>
</form>
<script>

        window.onload=chec();
        async function chec(){
        const response = await fetch('http://127.0.0.1:8000/session3');
        const data = await response.json();
        console.log(data);
         if(data.status==true){

            dict=["position_present_1","organization_present_1","status_present_1","joining_date_present_1","leaving_date_present_1","duration_present_1"]
            dict2=["position_exp_1","organization_exp_1","status_exp_1","joining_date_exp_1","leaving_date_exp_1","duration_exp_1","position_exp_2","organization_exp_2","status_exp_2","joining_date_exp_2","leaving_date_exp_2","duration_exp_2","position_exp_3","organization_exp_3","status_exp_3","joining_date_exp_3","leaving_date_exp_3","duration_exp_3"]
            dict3=["position_research_1","organization_research_1","status_research_1","joining_date_research_1","leaving_date_research_1","duration_research_1","position_research_2","organization_research_2","status_research_2","joining_date_research_2","leaving_date_research_2","duration_research_2","position_research_3","organization_research_3","status_research_3","joining_date_research_3","leaving_date_research_3","duration_research_3"]

            for(let item of dict){
                document.getElementById(item).value=data.present_employment[item]
            }
            for(let item of dict2){
                document.getElementById(item).value=data.employment_teaching_experince[item]
            }
            for(let item of dict3){
                document.getElementById(item).value=data.research_experince[item]
            }
            

          
         }
         else{
             window.location.href="http://127.0.0.1:5500/front/login.html";
        }
    }
    async function logout() {
            const response = await fetch('http://127.0.0.1:8000/logout');
            window.location.href="http://127.0.0.1:5500/front/login.html";
        }

        // Add click event listener to the logout button
        document.getElementById('logoutButton').addEventListener('click', function(event){
            logout();
        });

</script>
</body>
</html>
